schema_version: 1

context:
  name: pynguin
  version: "0.44.0"

package:
  name: ${{ name|lower }}
  version: ${{ version }}

source:
  url: https://pypi.org/packages/source/${{ name[0] }}/${{ name }}/pynguin-${{ version }}.tar.gz
  sha256: 995e29e7c709c8eb71455dea663f2a6bb31a4f3e83c5b1a85d6492b291363343

build:
  number: 0
  noarch: python
  script: ${{ PYTHON }} -m pip install . -vv
  python:
    entry_points:
      - pynguin = pynguin.cli:main

requirements:
  host:
    - pip
    - poetry-core
    - python ${{ python_min }}.*
  run:
    - python >=${{ python_min }},<3.15
    - astroid >=4.0.1,<5.0.0
    - black >=25.1.0,<26.0.0
    - bytecode >=0.17.0,<0.18.0
    - dill >=0.4.0,<0.5.0
    - jinja2 >=3.1.6,<4.0.0
    - networkx >=3.4.2,<4.0.0
    - multiprocess >=0.70.18,<0.71.0
    - rich >=14.0.0,<15.0.0
    - pygments >=2.19.2,<3.0.0
    - pytest >=8.3.5,<9.0.0
    - simple-parsing >=0.1.7,<0.2.0
    - typing_inspect >=0.9.0,<0.10.0
    - asciitree >=0.3.3,<0.4.0
    - libcst >=1.7.0,<2.0.0
    - setuptools >=80.9.0,<90.0.0
    - toml >=0.10.2,<0.11.0
    - psutil >=7.1.1,<8.0.0
    - rstr >=3.2.2,<4.0.0
    # Not listed but needed for import test
    - numpy

tests:
  # Import test in script due to env var
  - requirements:
      run:
        - pip
        - python ${{ python_min }}.*
    script:
      - export PYNGUIN_DANGER_AWARE=1
      - "python -c 'import pynguin'"
      - pynguin
      - pip check

about:
  summary: Pynguin is a tool for automated unit test generation for Python
  license: LGPL-3.0-only
  license_file: LICENSE.rst
  description: |
    Unit test automated generation techniques have been proposed and mature
    tools exist for statically typed languages, such as Java. Pynguin is on of
    the first tool that fills this gap and allows the automated generation of
    unit tests for Python programs.


  homepage: https://github.com/se2p/pynguin
  documentation: https://pynguin.readthedocs.io/en/latest/

extra:
  recipe-maintainers:
    - thewchan
