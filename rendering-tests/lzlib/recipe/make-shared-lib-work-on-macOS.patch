--- a/Makefile.in
+++ b/Makefile.in
@@ -28,8 +28,8 @@
 lib$(libname).a : lzlib.o
 	$(AR) $(ARFLAGS) $@ $<

-lib$(libname).so.$(soversion) : lzlib_sh.o
-	$(CC) $(CFLAGS) $(LDFLAGS) -fpic -fPIC -shared -Wl,--soname=$@ -o $@ $< || \
+lib$(libname).$(soversion).dylib : lzlib_sh.o
+	$(CC) $(CFLAGS) $(LDFLAGS) -fpic -fPIC -shared -install_name $@ -o $@ $< || \
 	$(CC) $(CFLAGS) $(LDFLAGS) -fpic -fPIC -shared -o $@ $<

 bin : $(progname_static) $(progname_shared)
@@ -37,8 +37,8 @@
 $(progname) : $(objs) lib$(libname).a
 	$(CC) $(CFLAGS) $(LDFLAGS) -o $@ $(objs) lib$(libname).a

-$(progname)_shared : $(objs) lib$(libname).so.$(soversion)
-	$(CC) $(CFLAGS) $(LDFLAGS) -o $@ $(objs) lib$(libname).so.$(soversion)
+$(progname)_shared : $(objs) lib$(libname).$(soversion).dylib
+	$(CC) $(CFLAGS) $(LDFLAGS) -o $@ $(objs) lib$(libname).$(soversion).dylib

 bbexample : bbexample.o lib$(libname).a
 	$(CC) $(CFLAGS) $(LDFLAGS) -o $@ bbexample.o lib$(libname).a
@@ -115,17 +115,8 @@
 	  $(INSTALL_DATA) ./lib$(libname).a "$(DESTDIR)$(libdir)/lib$(libname).a" ; \
 	fi
 	if [ -n "$(libname_shared)" ] ; then \
-	  if [ -e "$(DESTDIR)$(libdir)/lib$(libname).so.$(soversion)" ] ; then \
-	    run_ldconfig=no ; \
-	  else run_ldconfig=yes ; \
-	  fi ; \
-	  rm -f "$(DESTDIR)$(libdir)/lib$(libname).so" ; \
-	  rm -f "$(DESTDIR)$(libdir)/lib$(libname).so.$(soversion)" ; \
-	  $(INSTALL_SO) ./lib$(libname).so.$(soversion) "$(DESTDIR)$(libdir)/lib$(libname).so.$(pkgversion)" ; \
-	  cd "$(DESTDIR)$(libdir)" && ln -s lib$(libname).so.$(pkgversion) lib$(libname).so ; \
-	  cd "$(DESTDIR)$(libdir)" && ln -s lib$(libname).so.$(pkgversion) lib$(libname).so.$(soversion) ; \
-	  if [ "${disable_ldconfig}" != yes ] && [ $${run_ldconfig} = yes ] && \
-	     [ -x "$(LDCONFIG)" ] ; then "$(LDCONFIG)" -n "$(DESTDIR)$(libdir)" || true ; fi ; \
+		$(INSTALL_PROGRAM) ./lib$(libname).$(soversion).dylib "$(DESTDIR)$(libdir)/lib$(libname).$(soversion).dylib" ; \
+		cd "$(DESTDIR)$(libdir)" && ln -s lib$(libname).$(soversion).dylib lib$(libname).dylib ; \
 	fi

 install-lib-strip : lib
--- a/configure
+++ b/configure
@@ -119,11 +119,11 @@
 	--disable-static)
 		libname_static=
 		progname_static=
-		libname_shared=lib${libname}.so.${soversion}
+		libname_shared=lib${libname}.${soversion}.dylib
 		progname_shared=${progname}_shared
 		progname_lzip=${progname}_shared ;;
 	--enable-shared)
-		libname_shared=lib${libname}.so.${soversion}
+		libname_shared=lib${libname}.${soversion}.dylib
 		progname_shared=${progname}_shared
 		progname_lzip=${progname}_shared ;;
 	--disable-ldconfig) disable_ldconfig=yes ;;
