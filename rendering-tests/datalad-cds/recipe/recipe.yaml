context:
  version: "0.0.12"

package:
  name: datalad-cds
  version: ${{ version }}

source:
  - url: https://pypi.org/packages/source/d/datalad-cds/datalad_cds-${{ version }}.tar.gz
    sha256: a57cbfb91242232b48eb4a61282edfe1c9667c8616fbc5009166abac26419bad

build:
  noarch: python
  number: 0
  python:
    entry_points:
      - git-annex-remote-cds = datalad_cds.cds_remote:main
  script: ${{ PYTHON }} -m pip install .

requirements:
  host:
    - python ${{ python_min }}.*
    - setuptools >=43.0.0
    - pip
  run:
    - __linux
    - python >=${{ python_min }}
    - datalad >=0.17.0
    - annexremote >=1.6.0
    - cdsapi >=0.5.1

tests:
  - python:
      imports:
        - datalad_cds
      pip_check: false
      python_version: ${{ python_min }}.*
  - script:
      - git-annex-remote-cds < /dev/null | grep VERSION

about:
  documentation: https://matrss.github.io/datalad-cds
  homepage: https://github.com/matrss/datalad-cds
  license_file: LICENSE
  license: MIT
  repository: https://github.com/matrss/datalad-cds
  summary: DataLad extension for downloading from the Copernicus Climate Data Store

extra:
  recipe-maintainers:
    - matrss
