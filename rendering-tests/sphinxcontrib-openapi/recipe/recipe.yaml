schema_version: 1

context:
  name: sphinxcontrib-openapi
  version: 0.8.4

package:
  name: ${{ name|lower }}
  version: ${{ version }}

source:
  url: https://pypi.org/packages/source/${{ name[0] }}/${{ name }}/${{ name }}-${{ version }}.tar.gz
  sha256: df883808a5b5e4b4113ad697185c43a3f42df3dce70453af78ba7076907e9a20

build:
  number: 2
  noarch: python
  script: ${{ PYTHON }} -m pip install . -vv

requirements:
  host:
    - python ${{ python_min }}.*
    - pip
    - setuptools
    - setuptools_scm >=1.15
  run:
    - python >=${{ python_min }}
    - sphinx >=2.0
    - sphinxcontrib-httpdomain >=1.5.0
    - PyYAML >=3.12
    - jsonschema >=2.5.1
    - sphinx-mdinclude >=0.5.2
    - picobox >=2.2
    - deepmerge >=0.1

tests:
  - python:
      imports:
        - sphinxcontrib.openapi
      python_version: ${{ python_min }}.*
about:
  license: BSD-2-Clause
  license_file: LICENSE
  summary: A Sphinx extension to generate APIs docs from OpenAPI (fka Swagger) spec.
  description: |
    sphinxcontrib-openapi is a Sphinx extension to generate APIs docs from
    OpenAPI (fka Swagger) spec. It depends on sphinxcontrib-httpdomain that
    provides an HTTP domain for describing RESTful HTTP APIs, so we donâ€™t need
    to reinvent the wheel.
  homepage: https://github.com/ikalnytskyi/sphinxcontrib-openapi
  repository: https://github.com/ikalnytskyi/sphinxcontrib-openapi
  documentation: https://sphinxcontrib-openapi.readthedocs.io/

extra:
  recipe-maintainers:
    - conda-forge/sphinx
    - carlodri
