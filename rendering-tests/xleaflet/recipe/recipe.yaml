context:
  version: "0.20.0"
  build_number: 0

package:
  name: xleaflet
  version: ${{ version }}

source:
  url: https://github.com/jupyter-xeus/xleaflet/archive/${{ version }}.tar.gz
  sha256: 2ea94516ef4d75086278e51647b717d62f99ab5d6a7573c720663cdf643aa95f

build:
  number: ${{ build_number }}

requirements:
  run_exports:
    - ${{ pin_subpackage('xleaflet', upper_bound='x.x') }}
  build:
    - ${{ compiler('cxx') }}
    - ${{ stdlib('c') }}
    - cmake
    - if: unix
      then:
        - make
  host:
    - xeus >=5.0.0,<6.0
    - xproperty >=0.12.1,<0.13.0
    - xwidgets >=0.29.2,<0.30.0
    - xtensor >=0.27.0,<0.28
  run:
    - xtensor >=0.27,<0.28

tests:
  - package_contents:
      files:
        exists:
          - ${{ "Library/" if win }}include/xleaflet/xmap.hpp
          - ${{ "Library/" if win }}lib/cmake/xleaflet/xleafletConfig.cmake
          - ${{ "Library/" if win }}lib/cmake/xleaflet/xleafletConfigVersion.cmake

about:
  homepage: http://quantstack.net/xleaflet
  repository: https://github.com/jupyter-xeus/xleaflet
  license: BSD-3-Clause
  license_family: BSD
  license_file: LICENSE
  summary: C++ backend for the jupyter leaflet widget
  documentation: http://xleaflet.readthedocs.io

extra:
  recipe-maintainers:
    - SylvainCorlay
    - JohanMabille
    - martinRenou
