context:
  numpy_typing_compat_version: 20250818
  pkg_version: ${{ numpy_typing_compat_version }}.${{ numpy_min }}

package:
  name: numpy-typing-compat
  # e.g. '20250818.1.22' for numpy >=1.22,<1.23, numpy-typing-compat v20250818
  version: ${{ pkg_version }}

source:
  - url: https://pypi.org/packages/source/n/numpy-typing-compat/numpy_typing_compat-${{ pkg_version }}.tar.gz
    sha256: ${{ source_hash }}

build:
  script: ${{ PYTHON }} -m pip install .
  number: 0
  noarch: python

requirements:
  host:
    - python ${{ python_min }}.*
    - uv-build
    - pip
  run:
    - python >=${{ python_min }}
    - numpy <${{ numpy_cap }},>=${{ numpy_min }}
    # needed for python <3.10, not using a selector to enable noarch
    - typing-extensions >=4

tests:
  - python:
      imports:
        - numpy_typing_compat
      pip_check: true
      python_version: ${{ python_min }}.*

about:
  homepage: https://github.com/jorenham/numpy-typing-compat
  summary: Static typing compatibility layer for older versions of NumPy
  description: This package provides version-specific boolean constants that allow library authors to write NumPy-version-dependent static type annotations.
  license: BSD-3-Clause
  license_file: LICENSE

extra:
  recipe-maintainers:
    - lucascolley
    - jorenham
