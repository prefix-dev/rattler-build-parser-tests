schema_version: 1

context:
  version: "1.23"
  python_check_max: "3.14"

package:
  name: flask-compress
  version: ${{ version }}

source:
  url: https://pypi.org/packages/source/F/Flask-Compress/flask_compress-${{ version }}.tar.gz
  sha256: 5580935b422e3f136b9a90909e4b1015ac2b29c9aebe0f8733b790fde461c545

build:
  number: 0
  noarch: python
  script: ${{ PYTHON }} -m pip install . -vv

requirements:
  host:
    - pip
    - python ${{ python_min }}.*
    - setuptools-scm <8
    - setuptools >=42
  run:
    - brotli-python
    - flask
    - backports.zstd
    - python >=${{ python_min }}

tests:
  - python:
      imports:
        - flask_compress
      pip_check: true
      python_version:
        - ${{ python_min }}.*
        - ${{ python_check_max }}.*
  - files:
      source:
        - tests
    requirements:
      run:
        - if: win
          then: m2-grep
        - pip
        - pytest
        - flask-caching
        - python ${{ python_min }}.*
    script:
      - pytest -vv tests
      - pip list

about:
  license: MIT
  license_file: LICENSE.txt
  summary: Compress responses in your Flask app with gzip.
  description: |
    Flask-Compress allows you to easily compress your Flask application's responses with gzip.
  homepage: https://github.com/colour-science/flask-compress
  repository: https://github.com/colour-science/flask-compress

extra:
  recipe-maintainers:
    - synapticarbors
    - mariusvniekerk
